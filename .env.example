# CaseMind Configuration File
# Copy this to .env and fill in your values

# ========================================================================
# Weaviate Configuration
# ========================================================================
WEAVIATE_URL=http://localhost:8080
WEAVIATE_GRPC_HOST=localhost
WEAVIATE_GRPC_PORT=50051
WEAVIATE_TIMEOUT=60

# ========================================================================
# Local Storage
# ========================================================================
LOCAL_STORAGE_PATH=cases/local_storage_md

# ========================================================================
# Chunking Configuration
# ========================================================================
CHUNK_SIZE_TOKENS=300
CHUNK_OVERLAP_TOKENS=30

# ========================================================================
# Model Configuration
# ========================================================================
EMBEDDING_MODEL=sentence-transformers/all-mpnet-base-v2
RANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2

# ========================================================================
# Pipeline Configuration
# ========================================================================
TOP_K_SIMILAR_CASES=5
CROSS_ENCODER_THRESHOLD=0.0
HYBRID_SEARCH_ALPHA=0.7
HYBRID_SEARCH_BETA=0.3

# ========================================================================
# API Keys
# ========================================================================
OPENAI_API_KEY=your_openai_api_key_here
GEMINI_API_KEY=your_gemini_api_key_here

# ========================================================================
# Paths
# ========================================================================
ONTOLOGY_PATH=Ontology_schema/ontology_schema.json
TEMPLATES_DIR=templates
CASES_DIR=cases
MAIN_TEMPLATE_PATH=templates/main_template.json
PROMPTS_PATH=prompts/prompts.json
FACT_TEMPLATES_PATH=templates/templates.json

# ========================================================================
# Logging
# ========================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/casemind.log
DISABLE_LOGGING=false

# ========================================================================
# Parallel Processing Configuration
# ========================================================================
MAX_WORKERS=3                          # Number of parallel PDF processing workers
WORKER_QUEUE_SIZE=100                  # Max items in processing queue

# ========================================================================
# Batch Processing Configuration
# ========================================================================
BATCH_SIZE_PDF=10                      # PDFs to process in parallel per batch
BATCH_SIZE_EMBEDDING=100               # Texts to embed in one batch
BATCH_SIZE_WEAVIATE=200                # Objects to write in one Weaviate batch

# ========================================================================
# API Rate Limiting
# ========================================================================
OPENAI_RPM=3                           # OpenAI requests per minute (Free tier: 3, Paid: 60+)
OPENAI_MAX_RETRIES=3                   # Max retries for failed API calls
OPENAI_RETRY_DELAY=2                   # Initial retry delay in seconds

# ========================================================================
# Resource Management
# ========================================================================
WEAVIATE_POOL_SIZE=3                   # Number of Weaviate connections in pool
EMBEDDING_WARMUP=true                  # Pre-load embedding model on startup
KEEP_ALIVE=true                        # Keep resources alive between batches

# ========================================================================
# Lifecycle Configuration
# ========================================================================
STARTUP_TIMEOUT=120                    # Seconds to wait for services to start
SHUTDOWN_GRACE_PERIOD=30               # Seconds for graceful shutdown
HEALTH_CHECK_INTERVAL=30               # Health check frequency (seconds)

# ========================================================================
# Error Handling
# ========================================================================
AUTO_RETRY_FAILED=true                 # Auto-retry failed files once
SAVE_FAILED_FILES=true                 # Save failed files to failed_files.json
CONTINUE_ON_ERROR=true                 # Continue batch processing on errors

# ========================================================================
# Performance Monitoring
# ========================================================================
ENABLE_METRICS=true                    # Enable performance metrics collection
METRICS_OUTPUT=logs/metrics.json       # Metrics output file
SHOW_DASHBOARD=true                    # Show detailed CLI dashboard
